---
title: 使用CORS解决跨域访问
categories:
  - 服务端开发
tags:
  - django
date: 2021-07-21 09:23:11
---

使用django-cors-headers扩展解决跨域访问

#### 安装

```shell
pip install django-cors-headers
```

#### 配置

settings.py

```python
INSTALLED_APPS = (
    ...
    'corsheaders',
    ...
)
MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',  # 放在最前面
    ...
]
# CORS白名单
CORS_ORIGIN_WHITELIST = (
    '127.0.0.1:8080',
    'localhost:8080',
)
# 或者
CORS_ALLOW_CREDENTIALS = True  # 跨域访问中,允许携带cookie
# CORS_ORIGIN_ALLOW_ALL为True, 指定所有域名(ip)都可以访问后端接口, 默认为False
CORS_ORIGIN_ALLOW_ALL = True
```

#### 补充

ALLOWED_HOSTS允许访问后端的域名

```shell
ALLOWED_HOSTS = ['127.0.0.1', 'localhost', 'api.myard.cn']
```

```python
ALLOWED_HOSTS = ['*']  # 填写上“*”可以使所有的网址都能访问Django项目了
```

