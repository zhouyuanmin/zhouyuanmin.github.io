---
title: 七种设计原则
categories: 服务端开发
tags:
  - 开发经验
date: 2021-07-12 15:25:15
---

七种设计原则

#### 一、开闭原则：

这一条放在第一位来理解，它的含义是**对扩展开放，对改动关闭**。

解释一下就是，我们写完的代码，不能由于需求变化就改动。我们能够通过新增代码的方式来解决变化的需求。

当然，这是一种理想的状态，在现实中。我们要尽量的缩小这样的改动。

 

再解释一下这条原则的意义所在，我们採用逆向思维方式来想。假设每次需求变动都去改动原有的代码，那原有的代码就存在被改动错误的风险。当然这当中存在有意和无意的改动。都会导致原有正常执行的功能失效的风险，这样非常有可能会展开可怕的蝴蝶效应。使维护工作剧增。

说究竟，开闭原则除了表面上的可扩展性强以外。在企业中更看重的是维护成本。

 

所以，开闭原则是设计模式的第一大原则，它的潜台词是：控制需求变动风险。缩小维护成本。

 

下面几种原则，都是为此原则服务的。

#### 二、里氏替换选择：

此原则的含义是**子类能够在不论什么地方替换它的父类**。解释一下。这是多态的前提，我们后面非常多所谓的灵活，都是不改变声明类型的情况下，改变实例化类来完毕的需求变更。

当然，继承的特性看似天然就满足这个条件。

但这里更注重的是继承的应用问题。我们必须保证我们的子类和父类划分是精准的。

 

里氏替换原则的潜台词是：尽量使用精准的抽象类或者接口。

 

#### 三、单一职责原则：

单一职责的含义是：**类的职责单一，引起类变化的原因单一**。解释一下。这也是灵活的前提，假设我们把类拆分成最小的职能单位，那组合与复用就简单的多了，假设一个类做的事情太多。在组合的时候，必定会产生不必要的方法出现。这实际上是一种污染。

举个样例。我们在绘制图案的时候，用“点”组成图和用“直线”组成图，哪个更灵活呢？一定是“点”，它能够绘制不论什么图形，而直线仅仅能绘制带有直线条的图案。它起码无法画圆。

单一职责的潜台词是：拆分到最小单位，解决复用和组合问题。

#### 四、接口隔离原则：

接口隔离原则能够说是单一职责的必要手段。它的含义是尽量使用职能单一的接口。而不使用职能复杂、全面的接口。

非常好理解，接口是为了让子类实现的，假设子类想达到职能单一。那么接口也必须满足职能单一。

 

相反，假设接口融合了多个不相关的方法，那它的子类就被迫要实现全部方法，虽然有些方法是根本用不到的。

这就是接口污染。

 

接口隔离原则的潜台词是：拆分，从接口開始。

#### 五、依赖倒置原则：

想要理解依赖倒置原则。必须先理解传统的解决方式。面相对象的初期的程序，被调用者依赖于调用者。也就是调用者决定被调用者有什么方法，有什么样的实现方式，这样的结构在需求变更的时候，会付出非常大的代价，甚至推翻重写。

 

依赖倒置原则就是**要求调用者和被调用者都依赖抽象**，这样两者没有直接的关联和接触。在变动的时候，一方的变动不会影响还有一方的变动。

事实上。依赖倒置和前面的原则是相辅相成的，都强调了抽象的重要性。

依赖倒置的潜台词是：面向抽象编程。解耦调用和被调用者。

 

#### 六、迪米特原则：

迪米特原则**要求尽量的封装，尽量的独立，尽量的使用低级别的訪问修饰符**。这是封装特性的典型体现。

 

一个类假设暴露太多私用的方法和字段，会让调用者非常茫然。而且会给类造成不必要的推断代码。所以，我们使用尽量低的訪问修饰符。让外界不知道我们的内部。这也是面向对象的基本思路。这是迪米特原则的一个特性，无法了解类很多其它的私有信息。

另外，迪米特原则要求类之间的直接联系尽量的少。两个类的訪问。通过第三个中介类来实现。

迪米特原则的潜台词是：不和陌生人说话，有事去中介。

#### 七、组合/聚合复用原则：

此原则的含义是。假设**仅仅是达到代码复用的目的。尽量使用组合与聚合。而不是继承**。

这里须要解释一下，组合聚合仅仅是引用其它的类的方法。而不会受引用的类的继承而改变血统。

继承的耦合性更大，比方一个父类后来加入实现一个接口或者去掉一个接口，那子类可能会遭到毁灭性的编译错误。但假设仅仅是组合聚合，仅仅是引用类的方法，就不会有这样的巨大的风险。同一时候也实现了复用。